<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Quiz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Art Quiz</h1>
        
        <!-- Login Screen -->
        <div id="login-screen">
            <h2>Welcome to Art Quiz</h2>
            <div id="login-form">
                <input type="text" id="username-input" placeholder="Enter your username" maxlength="20">
                <input type="password" id="password-input" placeholder="Enter your password" maxlength="50">
                <button id="login-btn" onclick="login()">Login</button>
            </div>
            <p class="login-note">Your progress and collection will be saved</p>
        </div>
        
        <!-- Mode Selection -->
        <div id="mode-selection" style="display: none;">
            <div id="user-info">
                <span id="welcome-user"></span>
                <button id="logout-btn" onclick="logout()">Logout</button>
            </div>
            <h2>Choose Game Mode</h2>
            <div id="mode-buttons">
                <button id="quiz-mode-btn" onclick="startGame('quiz')">Quiz Mode</button>
                <button id="browse-mode-btn" onclick="startGame('browse')">Browse Mode</button>
                <button id="collection-mode-btn" onclick="startGame('collection')">My Collection</button>
            </div>
            <div id="mode-descriptions">
                <p><strong>Quiz Mode:</strong> Guess the artist from the artwork</p>
                <p><strong>Browse Mode:</strong> View artworks with all information displayed</p>
                <p><strong>My Collection:</strong> View your personal collection of saved artworks</p>
            </div>

        </div>
        
        <!-- Quiz Source Selection -->
        <div id="quiz-source-selection" style="display: none;">
            <div id="quiz-lifetime-score">
                <p>Your Lifetime Score: <span id="quiz-selection-lifetime-score">0</span></p>
            </div>
            <h2>Choose Quiz Source</h2>
            <div id="quiz-source-buttons">
                <button id="all-artworks-btn" onclick="startQuiz('all')">All Artworks</button>
                <button id="my-collection-quiz-btn" onclick="startQuiz('collection')">My Collection</button>
            </div>
            <div id="quiz-source-descriptions">
                <p><strong>All Artworks:</strong> Quiz from the entire museum collection</p>
                <p><strong>My Collection:</strong> Quiz only from your saved artworks</p>
            </div>
            <button id="quiz-source-back-btn" onclick="backToMenu()">Back to Menu</button>
        </div>
        
        <!-- Quiz Mode -->
        <div id="quiz-container" style="display: none;">
            <div id="loading">Loading artwork...</div>
            <div id="quiz" style="display: none;">
                <div id="artwork-container">
                    <img id="artwork-image" alt="Artwork">
                    <p id="artwork-info"></p>
                    <p id="artwork-medium"></p>
                </div>
                <div id="options-container">
                    <h3>Who is the artist?</h3>
                    <div id="hint-container">
                        <button id="fifty-fifty-btn" onclick="quiz.useFiftyFifty()">50/50</button>
                        <button id="year-hint-btn" onclick="quiz.showYearHint()">Year Hint</button>
                        <button id="genre-hint-btn" onclick="quiz.showGenreHint()">Genre Hint</button>
                        <button id="museum-hint-btn" onclick="quiz.showMuseumHint()">Museum Hint</button>
                    </div>
                    <div id="options"></div>
                </div>
                <div id="result" style="display: none;"></div>
                <button id="next-btn" style="display: none;">Next Question</button>
            </div>
            <div id="score">
                <div>Session Score: <span id="score-value">0</span></div>
            </div>
            <button id="quiz-back-btn" onclick="backToMenu()">Back to Menu</button>
        </div>
        
        <!-- Browse Mode -->
        <div id="browse-container" style="display: none;">
            <div id="museum-selector">
                <h3>Choose Museum:</h3>
                <input type="text" id="museum-select" list="museum-list" placeholder="Type or select museum..." oninput="quiz.filterByMuseum()" onfocus="this.value='';">
                <datalist id="museum-list"></datalist>
            </div>
            <div id="artist-selector">
                <h3>Choose Artist:</h3>
                <input type="text" id="artist-select" list="artist-list" placeholder="Type or select artist..." oninput="quiz.filterByArtist()" onfocus="this.value='';">
                <datalist id="artist-list"></datalist>
            </div>
            <div id="browse-artwork">
                <img id="browse-image" alt="Artwork">
                <div id="browse-info">
                    <h2 id="browse-title"></h2>
                    <p id="browse-artist"></p>
                    <p id="browse-year"></p>
                    <p id="browse-collection"></p>
                    <p id="browse-art-type"></p>
                    <p id="browse-material"></p>
                    <p id="browse-genre"></p>
                </div>
            </div>
            <div id="browse-navigation">
                <button id="prev-artwork-btn" onclick="quiz.prevArtwork()">Previous Artwork</button>
                <button id="next-artwork-btn" onclick="quiz.nextArtwork()">Next Artwork</button>
                <button id="add-to-collection-btn" onclick="quiz.addToCollection()" title="Add to My Collection">♡ Add to Collection</button>
            </div>
            <button id="browse-back-btn" onclick="backToMenu()">Back to Menu</button>
        </div>
        
        <!-- My Collection Mode -->
        <div id="collection-container" style="display: none;">
            <div id="collection-empty" style="text-align: center; padding: 50px;">
                <h2>Your Collection is Empty</h2>
                <p>Add items to your collection by browsing artworks and saving your favorites!</p>
            </div>
            <div id="collection-grid" style="display: none;">
                <div id="collection-thumbnails"></div>
            </div>
            <div id="collection-detail" style="display: none;">
                <button id="back-to-grid-btn" onclick="quiz.showCollectionGrid()">← Back to Grid</button>
                <div id="collection-artwork">
                    <img id="collection-image" alt="Artwork">
                    <div id="collection-info">
                        <h2 id="collection-title"></h2>
                        <p id="collection-artist"></p>
                        <p id="collection-year"></p>
                        <p id="collection-museum"></p>
                        <p id="collection-art-type"></p>
                        <p id="collection-material"></p>
                        <p id="collection-genre"></p>
                    </div>
                </div>
                <div id="collection-navigation">
                    <button id="prev-collection-btn" onclick="quiz.prevCollectionArtwork()">Previous Artwork</button>
                    <button id="next-collection-btn" onclick="quiz.nextCollectionArtwork()">Next Artwork</button>
                    <button id="remove-from-collection-btn" onclick="quiz.removeFromCollection()">Remove from Collection</button>
                </div>
            </div>
            <button id="collection-back-btn" onclick="backToMenu()">Back to Menu</button>
        </div>
    </div>
    <div class="version">v1.0.0</div>
    <script src="script.js?2"></script>
</body>
</html>